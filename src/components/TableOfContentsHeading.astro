---
import Link from "./Link.astro";
import type { Heading } from "./TableOfContents.astro";

// https://kld.dev/building-table-of-contents/

const { heading } = Astro.props;
---

<li class="toc-item">
  <Link
    href={"#" + heading.slug}
    underline={false}
    class="toc-link"
    data-toc-link={heading.slug}
  >
    {heading.text}
  </Link>
</li>

<style>
  .toc-item {
    position: relative;
    padding-left: 0.75rem;
  }

  .toc-item::before {
    content: "";
    position: absolute;
    left: 0;
    top: 0.55rem;
    width: 4px;
    height: 4px;
    background: var(--color-accent);
  }

  .toc-link {
    font-family: var(--font-mono);
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--color-muted-foreground);
    transition: color var(--duration-fast) var(--ease-mechanical);
    text-decoration: none;
  }

  .toc-link:hover {
    color: var(--color-accent);
  }

  .toc-link.is-active {
    color: var(--color-accent);
  }
</style>
